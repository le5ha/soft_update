<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Тост в iPhone</title>
  <style>
    :root{
      --bg:#0e0f12; --metal1:#1d1f22; --metal2:#0a0b0d;
      --text:#fff; --muted:rgba(255,255,255,.7); --border:rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      background:
        radial-gradient(900px 700px at -10% -10%, rgba(124,58,237,.18), transparent 60%),
        radial-gradient(900px 700px at 110% 20%, rgba(34,211,238,.18), transparent 60%),
        var(--bg);
      display:grid;place-items:center; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
    }

    .iphone{
      position:relative; width:390px; height:844px; border-radius:56px;
      background:linear-gradient(145deg, var(--metal1), var(--metal2));
      box-shadow:0 0 0 1px #3a3d45, 0 0 0 3px #191b1f, 0 22px 70px rgba(0,0,0,.75), inset 0 1px 0 rgba(255,255,255,.05);
      border:0.5px solid #3f424a;
    }
    .iphone::after{
      content:""; position:absolute; inset:6px; border-radius:50px; background:linear-gradient(180deg,#0c0d10,#0a0b0d);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
      z-index:0; /* ниже контента */
    }
    .island{
      position:absolute; top:10px; left:50%; transform:translateX(-50%);
      width:126px; height:36px; border-radius:18px; background:#000;
      box-shadow: inset 0 2px 6px rgba(0,0,0,.85), 0 1px 2px rgba(0,0,0,.5);
      z-index:3;
    }
    .btn-vol,.btn-power{position:absolute; width:3px; background:linear-gradient(135deg,#2b2e34,#1a1c20); border-radius:2px; z-index:4}
    .btn-vol{left:-3px; top:130px; height:78px;}
    .btn-power{right:-3px; top:170px; height:60px;}

    .screen{
      position:absolute; inset:12px; border-radius:46px; overflow:hidden;
      background: radial-gradient(1200px 800px at 50% -20%, rgba(255,255,255,.04), transparent 60%), #0b0c0f;
      z-index:1;
    }

    .status{ position:absolute; top:18px; left:18px; right:18px; display:flex; justify-content:space-between; font-weight:700; font-size:13px; opacity:.9;}
    .battery{display:flex; align-items:center; gap:6px}
    .batt{width:20px;height:10px;border:1px solid #fff;border-radius:2px;position:relative}
    .batt::after{content:"";position:absolute;right:-3px;top:2px;width:2px;height:6px;background:#fff;border-radius:0 1px 1px 0}
    .fill{position:absolute;left:1px;top:1px;height:8px;width:60%;background:#34c759;border-radius:1px}

    /* ===== Тост ===== */
    .toast{
      position:absolute; left:18px; right:18px; top:90px; display:flex; gap:14px; align-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.1), rgba(255,255,255,.08));
      border:1px solid rgba(255,255,255,.15); border-radius:16px; padding:16px 18px; user-select:none;
      backdrop-filter: blur(20px); box-shadow: 0 8px 32px rgba(0,0,0,.4), 0 2px 8px rgba(0,0,0,.2);
      transform: translateY(-12px) scale(.985); opacity:0;
      transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
      cursor: pointer; /* кликабельно */
    }
    .toast.show{
      animation: microIn .45s cubic-bezier(.2,.8,.2,1) forwards;
    }
    .toast:hover{
      transform: translateY(-14px) scale(.988);
      box-shadow: 0 10px 36px rgba(0,0,0,.46), 0 2px 10px rgba(0,0,0,.24);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.09));
    }

    .accent{
      width:4px; height:40px; border-radius:999px;
      background:linear-gradient(180deg,#007AFF,#34C759);
      box-shadow:0 0 12px rgba(0,122,255,.4);
      flex-shrink:0;
    }
    .toast-content{ flex:1; display:flex; flex-direction:column; gap:2px; }
    .title{font-weight:700; font-size:15px; color:var(--text); line-height:1.2}
    .hint{font-size:13px; color:var(--muted); line-height:1.3}

    /* делаем настоящую кнопку */
    .cta{
      margin-left:auto; padding:10px 16px; border-radius:12px; font-size:14px; font-weight:600;
      color:#007AFF; background:rgba(0,122,255,.2); border:1px solid rgba(0,122,255,.3);
      cursor:pointer; /* кликабельно */
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
    }
    .cta:hover{ transform: translateY(-1px); box-shadow:0 6px 18px rgba(0,122,255,.3); background:rgba(0,122,255,.24) }
    .cta:active{ transform: translateY(0); box-shadow:none }

    .toast.hide{ animation: microOut .28s cubic-bezier(.8,.2,1,.2) forwards; }

    /* микро-анимации */
    @keyframes microIn{
      0%{ opacity:0; transform: translateY(-12px) scale(.985) }
      60%{ opacity:1; transform: translateY(0) scale(1.008) }
      100%{ opacity:1; transform: translateY(0) scale(1) }
    }
    @keyframes microOut{
      to{ opacity:0; transform: translateY(-12px) scale(.985) }
    }

    @media (max-height:860px){ .iphone{ transform: scale(.95) } }
    @media (max-height:780px){ .iphone{ transform: scale(.9) } }
    @media (max-width:420px){ .iphone{ transform: scale(.9) } }
  </style>
</head>
<body>
  <div class="iphone" aria-hidden="true">
    <div class="island"></div>
    <div class="btn-vol"></div>
    <div class="btn-power"></div>
    <div class="screen">
      <div class="status">
        <div id="clock">9:41</div>
        <div class="battery"><span id="pct">87%</span><div class="batt"><div class="fill" id="fill"></div></div></div>
      </div>

      <!-- тост кликабелен -->
      <div id="toast" class="toast" role="button" tabindex="0" aria-label="А у нас новая версия!">
        <div class="accent" aria-hidden="true"></div>
        <div class="toast-content">
          <div class="title" id="tTitle">А у нас новая версия!</div>
          <div class="hint" id="tHint">Обновите приложение для получения новых функций</div>
        </div>
        <!-- отдельная кликабельная кнопка -->
        <button class="cta" id="cta" type="button">Обновить</button>
      </div>
    </div>
  </div>

  <script>
    // статус-бар
    const clock = document.getElementById('clock');
    const pct = document.getElementById('pct');
    const fill = document.getElementById('fill');
    setInterval(()=>{
      const d=new Date();
      clock.textContent=d.toLocaleTimeString('ru-RU',{hour:'2-digit',minute:'2-digit',hour12:false});
    }, 1000);
    (function randBatt(){
      const v = Math.floor(Math.random()*36)+60; pct.textContent=v+'%'; fill.style.width=v+'%';
    })();

    const toast = document.getElementById('toast');
    const cta = document.getElementById('cta');

    // Показ с задержкой 1 сек
    setTimeout(() => {
      toast.classList.add('show');
    }, 1000);

    // Автоскрытие через 10с после появления
    let hideTimer;
    const scheduleHide = () => {
      clearTimeout(hideTimer);
      hideTimer = setTimeout(()=> toast.classList.add('hide'), 10000);
    };
    scheduleHide();

    // Клики
    function onToastAction(source){
      console.log('Toast action:', source); // сюда повесь реальный колбэк
      // пример: location.reload();
    }
    toast.addEventListener('click', (e)=>{
      // если клик на кнопке, не дублируем
      if (e.target === cta) return;
      onToastAction('toast');
    });
    toast.addEventListener('keydown', (e)=>{
      if(e.key==='Enter'||e.key===' '){
        e.preventDefault();
        onToastAction('toast');
      }
    });
    cta.addEventListener('click', (e)=>{
      e.stopPropagation();
      onToastAction('button');
    });
  </script>
</body>
</html>
